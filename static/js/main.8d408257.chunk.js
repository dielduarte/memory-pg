(window["webpackJsonpmemory-pg"]=window["webpackJsonpmemory-pg"]||[]).push([[0],{101:function(n,e){},108:function(n,e,t){},109:function(n,e,t){},110:function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"addRandomIcon",(function(){return T})),t.d(r,"addUserChoice",(function(){return N})),t.d(r,"checkIfUserWon",(function(){return R})),t.d(r,"checkUserPoints",(function(){return A})),t.d(r,"resetState",(function(){return _})),t.d(r,"setJoyConAsController",(function(){return q})),t.d(r,"setMouseAsController",(function(){return w})),t.d(r,"setActiveIconIndex",(function(){return U}));var o={};t.r(o),t.d(o,"isUserChoicesOver",(function(){return P})),t.d(o,"currentSequenceIsNotFullFiled",(function(){return k})),t.d(o,"isPlayingWithJoyCon",(function(){return W}));var c=t(1),a=t.n(c),i=t(58),u=t.n(i),s=(t(71),t(31)),l=t(10),d=t(61),f=t(11),p=t(57),m=t(14),O=t(2),v=t(18),b=t(114),g=t(113),C=t(115),h=t(38),E=t.n(h),x=["".concat("icon","-bottle-red"),"".concat("icon","-bottle-blue"),"".concat("icon","-bottle-green"),"".concat("icon","-bottle-yellow")],y=x.map((function(n){return n+"-plus"})),I=x.map((function(n){return n+"-stars"})),S=[].concat(x,Object(m.a)(y),Object(m.a)(I)),j=function n(e){var t=Object(v.sample)(S);return e.currentSequence.includes(t)?n(e):t},T=Object(O.b)({currentSequence:function(n){return[].concat(Object(m.a)(n.currentSequence),[j(n)])}}),N=Object(O.b)({userSequence:function(n,e){var t=Object(v.get)(e.payload,"getFromActiveIconIndex",!1);return[].concat(Object(m.a)(n.userSequence),t?[S[n.activeIconIndex]]:[e.payload.iconId])}}),R=Object(O.b)({userWon:function(n){return Object(v.isEqual)(n.userSequence,n.currentSequence)}}),A=Object(O.b)({points:function(n){return n.userWon?n.points+10:n.points}}),_=Object(O.b)({userWon:!1,userSequence:[],currentSequence:[],userChoicesIsOver:!1,activeIconIndex:-1}),q=Object(O.b)({controllerType:"joyCon"}),w=Object(O.b)({controllerType:"mouse"}),D=["dpadLeft","dpadRight","dpadUp","dpadDown"],U=Object(O.b)({activeIconIndex:function(n,e){var t=n.activeIconIndex,r=e.payload.position;return D.includes(r)?"dpadDown"===r&&t<11?t+1:"dpadUp"===r&&t>0?t-1:"dpadLeft"===r&&t<=5?t+6:"dpadRight"===r&&t>5?t-6:t:t}}),P=function(n){return n.userSequence.length+1<n.sequenceCount},k=function(n){return n.currentSequence.length+1<=n.sequenceCount},W=function(n){return"joyCon"===n.controllerType},Y=Object(p.a)({id:"memoryPg",initial:"settingUp",context:{points:0,currentSequence:[],userSequence:[],userWon:void 0,interval:1e3,sequenceCount:4,icons:S,activeIconIndex:-1,controllerType:"joyCon"},states:{settingUp:{on:{JOY_CON_CONNECTED:{target:"setupDone",actions:["setJoyConAsController"]},JOY_CON_NOT_FOUND:"failure"}},setupDone:{on:{START_ROUND:"generatingRandomSequence",KEY_CHANGE:{target:"generatingRandomSequence",cond:"isPlayingWithJoyCon"}}},generatingRandomSequence:{onEntry:["addRandomIcon"],invoke:{src:function(n){return Object(b.a)(n.interval).pipe(Object(g.a)((function(n){return"ADD_RANDOM_ICON"})),Object(C.a)(n.sequenceCount))},onDone:"userTime"},on:{ADD_RANDOM_ICON:[{target:"",actions:"addRandomIcon",cond:"currentSequenceIsNotFullFiled"}]}},userTime:{on:{KEY_CHANGE:{target:"",actions:["setActiveIconIndex"],cond:"isPlayingWithJoyCon"},ADD_USER_CHOICE:[{target:"",actions:["addUserChoice"],cond:"isUserChoicesOver"},{target:"userChoicesIsOver",actions:["addUserChoice"]}]}},userChoicesIsOver:{onEntry:["checkIfUserWon","checkUserPoints"],on:{KEY_CHANGE:{target:"generatingRandomSequence",cond:"isPlayingWithJoyCon",actions:["resetState"]},RESTART:{target:"generatingRandomSequence",actions:["resetState"]}}},failure:{on:{PLAY_WITH_MOUSE:{target:"setupDone",actions:["setMouseAsController"]}}}}},{actions:r,guards:o});function H(){var n=Object(l.a)(["\n  border: 1px solid transparent;\n  width: calc(100% / 4);\n  min-width: 32px;\n  background: transparent;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 5px 0;\n\n  &:hover {\n    border: 1px solid #fff;\n  }\n\n  ","\n\n  @media(min-width: 768px) {\n    width: calc(100% / 6);\n  }\n"]);return H=function(){return n},n}function J(){var n=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1;\n  max-height: 174px;\n  padding: 0 10px;\n\n  @media (min-width: 768px) {\n    max-height: 116px;\n  }\n"]);return J=function(){return n},n}var F=f.a.div(J()),M=f.a.button(H(),(function(n){return n.active&&"\n    border: 1px solid #fff;\n  "}));var L=function(n){var e=n.current,t=n.send,r=e.context,o=function(n){return r.userSequence.includes(n)};return a.a.createElement(F,null,r.icons.map((function(n,e){return a.a.createElement(M,{key:e,onClick:(c=n,function(){return t({type:"ADD_USER_CHOICE",payload:{iconId:c}})}),active:o(n)||r.activeIconIndex===e,"data-testid":n},a.a.createElement("i",{className:"icon ".concat(n)}));var c})))};function G(){var n=Object(l.a)(["\n  font-size: 18px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  line-height: 1.5em;\n  text-transform: uppercase;\n\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n"]);return G=function(){return n},n}var K=f.a.button(G());var z=function(n){var e,t=n.current,r=n.send,o=t.context,i=t.matches,u=Object(c.useCallback)((function(){r("START_ROUND")}),[r]),s=Object(c.useCallback)((function(){r("RESTART")}),[r]);switch(!0){case i("settingUp"):return a.a.createElement(K,null,"Connecting...");case i("setupDone"):return function(n,e){return a.a.createElement(K,{onClick:n},"joyCon"===e?"PRESS ANYTHING TO START":"CLICK HERE TO START")}(u,o.controllerType);case i("userChoicesIsOver"):return function(n,e,t){return a.a.createElement(K,{onClick:e},"".concat(n?"You got it!":"Not this time baby"),a.a.createElement("br",null),"joyCon"===t?"PRESS ANYTHING TO RESTART":"restart")}(o.userWon,s,o.controllerType);case i("userTime"):return a.a.createElement(K,null,"YOUR TIME");case i("failure"):return function(n){return a.a.createElement(K,{onClick:function(){return n("PLAY_WITH_MOUSE")}},"OPS! NO JOY CON FOUND :( ",a.a.createElement("br",null),"CLICK HERE TO PLAY WITH MOUSE.")}(r);default:return e=o.currentSequence[o.currentSequence.length-1],a.a.createElement("i",{className:"icon ".concat(e)})}};function B(){var n=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  min-height: 80px;\n  max-height: 80px;\n  justify-content: flex-end;\n  padding: 20px 10px;\n  align-items: center;\n  font-size: 18px;\n   \n  i { margin-right: 10px; }\n   \n  @media(min-width: 768px) {\n    font-size: 22px;\n  }\n"]);return B=function(){return n},n}var $=f.a.div(B());var Q=function(n){var e=n.current;return a.a.createElement($,null,a.a.createElement("i",{className:"menu-icon menu-icon-diamond"}),e.context.points)};var V=function(n,e){Object(c.useEffect)((function(){n&&n.on("device-event",(function(n){var t=n.hasOwnProperty("buttonPressed")?n.buttonPressed:void 0;e("sr"!==t?{type:"KEY_CHANGE",payload:{position:t}}:{type:"ADD_USER_CHOICE",payload:{getFromActiveIconIndex:!0}})}))}),[n,e])};var X=function(n){var e=Object(c.useState)(null),t=Object(s.a)(e,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){var e=E()("http://localhost:4000");e.on("connect",(function(){n("JOY_CON_CONNECTED"),o(e)})),e.on("connect_error",(function(){return n("JOY_CON_NOT_FOUND")}))}),[n]),r};function Z(){var n=Object(l.a)(["\n  display: flex;\n  flex: 2;\n  justify-content: center;\n  align-items: center;\n"]);return Z=function(){return n},n}var nn=f.a.div(Z());var en=function(){var n=Object(d.useMachine)(Y,{devTools:!0}),e=Object(s.a)(n,2),t=e[0],r=e[1],o=X(r);return V(o,r),a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,{current:t,send:r}),a.a.createElement(nn,null,a.a.createElement(z,{current:t,send:r})),a.a.createElement(L,{current:t,send:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=t(63);t.n(tn).a.load({google:{families:["Press Start 2P"]}});t(108),t(109);u.a.render(a.a.createElement(en,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},66:function(n,e,t){n.exports=t(110)},71:function(n,e,t){}},[[66,1,2]]]);
//# sourceMappingURL=main.8d408257.chunk.js.map